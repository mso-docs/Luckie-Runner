<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luckie Runner!</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="gameContainer">
        <canvas id="gameCanvas" width="1200" height="600"></canvas>
        
        <!-- Game UI Overlay -->
        <div id="gameUI">
            <div id="healthBar">
                <div id="healthFill"></div>
            </div>
            <div id="scoreDisplay">Score: <span id="score">0</span></div>
            <div id="coinDisplay">Coins: <span id="coins">0</span></div>
            <div id="rockDisplay">Rocks: <span id="rocks">10</span></div>
        </div>

        <!-- Start Menu -->
        <div id="startMenu" class="menu">
            <h1>Luckie Runner!</h1>
            <p>Help Luckie Puppy get to Beachside Boba Cafe on time!</p>
            <button id="startButton">Start Game</button>
            <button id="instructionsButton">Instructions</button>
        </div>

        <!-- Instructions Screen -->
        <div id="instructionsMenu" class="menu hidden">
            <h2>How to Play</h2>
            <div class="instructions">
                <p><strong>Movement:</strong> A/D or Arrow Keys</p>
                <p><strong>Jump:</strong> W or Space</p>
                <p><strong>Dash:</strong> Shift + Movement</p>
                <p><strong>Attack:</strong> Mouse Click (throw rocks)</p>
                <p><strong>Goal:</strong> Reach the flag at the end of the level!</p>
                <p><strong>Tip:</strong> Collect coins and avoid enemies along the way!</p>
            </div>
            <button id="backButton">Back</button>
        </div>

        <!-- Game Over Screen -->
        <div id="gameOverMenu" class="menu hidden">
            <h2>Game Over</h2>
            <p>Final Score: <span id="finalScore">0</span></p>
            <p>Coins Collected: <span id="finalCoins">0</span></p>
            <button id="restartButton">Try Again</button>
            <button id="mainMenuButton">Main Menu</button>
        </div>

        <!-- Pause Menu -->
        <div id="pauseMenu" class="menu hidden">
            <h2>Paused</h2>
            <button id="resumeButton">Resume</button>
            
            <!-- Audio Controls -->
            <div class="audio-controls">
                <h3>Audio Settings</h3>
                
                <div class="volume-control">
                    <button id="muteButton">ðŸ”Š Mute</button>
                </div>
                
                <div class="volume-control">
                    <label for="masterVolume">Master Volume: <span id="masterVolumeValue">100%</span></label>
                    <input type="range" id="masterVolume" min="0" max="100" value="100" step="5">
                </div>
                
                <div class="volume-control">
                    <label for="musicVolume">Music Volume: <span id="musicVolumeValue">60%</span></label>
                    <input type="range" id="musicVolume" min="0" max="100" value="60" step="5">
                </div>
                
                <div class="volume-control">
                    <label for="sfxVolume">SFX Volume: <span id="sfxVolumeValue">80%</span></label>
                    <input type="range" id="sfxVolume" min="0" max="100" value="80" step="5">
                </div>
            </div>
            
            <button id="pauseMainMenuButton">Main Menu</button>
        </div>
    </div>

    <!-- Core Game Scripts -->
    <script src="scripts/utils/InputManager.js"></script>
    <script src="scripts/utils/AudioManager.js"></script>
    <script src="scripts/utils/CollisionDetection.js"></script>
    
    <!-- Base Entity Classes -->
    <script src="scripts/core/Entity.js"></script>
    <script src="scripts/core/Projectile.js"></script>
    
    <!-- Manager Classes -->
    <script src="scripts/core/GameStateManager.js"></script>
    
    <!-- Player System -->
    <script src="scripts/player/Player.js"></script>
    <script src="scripts/player/PlayerAnimations.js"></script>
    
    <!-- Enemy System -->
    <script src="scripts/enemies/Enemy.js"></script>
    <script src="scripts/enemies/GroundSlime.js"></script>
    <script src="scripts/enemies/PoisonSlime.js"></script>
    <script src="scripts/enemies/MagicArrowSlime.js"></script>
    
    <!-- Environment System -->
    <script src="scripts/environment/Background.js"></script>
    <script src="scripts/environment/Platform.js"></script>
    <script src="scripts/environment/Trap.js"></script>
    <script src="scripts/environment/LevelGenerator.js"></script>
    <script src="scripts/environment/PalmTreeManager.js"></script>
    <script src="scripts/environment/TestRoom.js"></script>
    
    <!-- Items and Collectibles -->
    <script src="scripts/items/Item.js"></script>
    <script src="scripts/items/Coin.js"></script>
    <script src="scripts/items/HealthPotion.js"></script>
    <script src="scripts/items/Flag.js"></script>
    
    <!-- Game Logic -->
    <script src="scripts/Game.js"></script>
    
    <!-- Initialize Game -->
    <script>
        // Initialize the game when page loads
        window.addEventListener('load', () => {
            const game = new Game('gameCanvas');
            window.game = game; // For debugging
        });
    </script>
</body>
</html>
